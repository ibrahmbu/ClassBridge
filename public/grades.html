<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grades - ClassBridge</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <style>
      /* Styling for back and home icons */
      .back-button i {
        font-size: 1.75rem;
        color: black;
      }
      .home-button i {
        font-size: 1.3rem;
      }
      /* Table styling */
      .grade-table {
        width: 100%;
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
      }
      .table th,
      .table td {
        vertical-align: middle;
      }
      .edit-icon {
        cursor: pointer;
      }
    </style>
  </head>
  <body class="d-flex flex-column vh-100 bg-body-tertiary">
    <!-- Header with Back Button and Title -->
    <div class="container d-flex flex-column flex-md-row mt-3 mb-4">
      <div class="d-flex align-items-start">
        <a
          href="/public/assignments.html"
          class="btn btn-link back-button me-md-2 mb-2 mb-md-0"
        >
          <i class="bi bi-arrow-left"></i>
        </a>
      </div>
      <h1 class="text-center text-md-start mb-0 w-100">
        Science Project<br />11-15-2024
      </h1>
    </div>

    <!-- Main Content -->
    <div
      class="container d-flex flex-column align-items-center flex-grow-1 my-0"
    >
      <div class="text-center">
        <p class="text-muted">
          Create a model of the solar system and describe each planet.
        </p>
      </div>

      <!-- Grades Table -->
      <div class="grade-table">
        <table class="table table-bordered text-center mb-0">
          <thead class="table-light">
            <tr>
              <th scope="col">Name</th>
              <th scope="col">Grade</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Aiden Smith</td>
              <td class="grade-cell">95%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Olivia Johnson</td>
              <td class="grade-cell">87%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Lucas Williams</td>
              <td class="grade-cell">67%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Emma Brown</td>
              <td class="grade-cell">83%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Ulyssa Ochoa</td>
              <td class="grade-cell">100%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Ava Garcia</td>
              <td class="grade-cell">95%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Shweta Shah</td>
              <td class="grade-cell">100%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Ethan Martinez</td>
              <td class="grade-cell">76%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Sophia Rodriguez</td>
              <td class="grade-cell">93%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Ibrahm Burghol</td>
              <td class="grade-cell">100%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Mason Lee</td>
              <td class="grade-cell">97%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
            <tr>
              <td>Isabella White</td>
              <td class="grade-cell">84%</td>
              <td>
                <i class="bi bi-pencil edit-icon" onclick="editGrade(this)"></i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Home Button (Bottom Center) -->
    <div class="container text-center mb-3">
      <a
        href="/public/classes.html"
        class="btn btn-outline-dark w-50 home-button"
      >
        <i class="bi bi-house-door"></i>
      </a>
    </div>

    <script>
      function editGrade(icon) {
        // Get the current grade cell
        const gradeCell = icon.parentElement.previousElementSibling;
        const currentGrade = gradeCell.textContent.replace("%", "").trim();

        // Create an input element with the current grade value
        const input = document.createElement("input");
        input.type = "number";
        input.value = currentGrade;
        input.className = "form-control";
        input.style.width = "70px"; // Adjust input width
        input.min = 0;
        input.max = 100;

        // Replace the grade cell's content with the input element
        gradeCell.textContent = "";
        gradeCell.appendChild(input);
        input.focus();

        // Add event listener for "Enter" key to save the new grade
        input.addEventListener("keypress", function (event) {
          if (event.key === "Enter") {
            saveGrade(input);
          }
        });

        // Blur event to save the grade when clicking outside the input
        input.addEventListener("blur", function () {
          saveGrade(input);
        });
      }

      function saveGrade(input) {
        const newGrade = input.value;

        // Validate input to ensure it's a valid grade between 0 and 100
        if (newGrade >= 0 && newGrade <= 100) {
          // Replace input with the new grade and add % symbol
          const gradeCell = input.parentElement;
          gradeCell.textContent = `${newGrade}%`;
        } else {
          alert("Please enter a valid grade between 0 and 100.");
          input.focus();
        }
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
